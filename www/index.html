<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>TITLE</title>
    <link rel="icon" type="image/png" href="http://interactive.nydailynews.com/favicons.png">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon" href="">
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <!-- Titles -->
    <meta property="og:title" content='TITLE' />
    <meta name="twitter:title" content='TITLE' />

    <!-- Descriptions -->
    <meta name="description" content="DESC" />
    <meta property="og:description" content="DESC" />
    <meta name="twitter:description" content="DESC" />

    <!-- KEYWORD -->
    <meta name="keywords" content="TAGS" />

    <!-- LINK -->
    <link rel="canonical" href="CANONICAL">
    <meta property="og:url" content="CANONICAL" />
    <meta name="twitter:url" content="CANONICAL" />

    <!-- THUMBNAIL IMAGE-->
    <meta property="og:image" content="CANONICALimg/share.png" />
    <meta name="twitter:image" content="CANONICALimg/share.png" />
    <meta name="twitter:image:alt" content="A description of the twitter image" />
    <meta property="og:image:width" content="1024" />
    <meta property="og:image:height" content="512" />

    <!-- PARSELY -->
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "NewsArticle",
            "headline": "TITLE",
            "url": "CANONICAL",
            "thumbnailUrl": "CANONICALimg/share.png",
            "dateCreated": "2018-07-12T06:00:00Z",
            "articleSection": "Interactive",
            "creator": ["Reporter Name", "Interactive Project"],
            "keywords": ["interactive project","interactive"]
        }
    </script>

    <!-- NO NEED TO FILL -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@nydailynews">
    <meta name="twitter:creator" content="@nydni">
    <meta name="decorator" content="responsive" />
    <meta name="nydn_section" content="NY Daily News" />
    <meta name="msvalidate.01" content="02916AAC0DA8B068EFE01D721E03ED7E" />
    <meta name="p:domain_verify" content="78efe4f5c9935744af497772f68a0ee7" />
    <meta property="fb:app_id" content="107464888913" />
    <meta property="fb:admins" content="1594068001" />
    <meta property="fb:pages" content="268914272540" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="NY Daily News" />
    <meta property="article:publisher" content="https://www.facebook.com/NYDailyNews/" />
    <meta name="localeCountry" content="US"/>
    <meta name="localeLanguage" content="en" />

    <!-- ADOBE ANALYTICS -->
    <script src="//assets.adobedtm.com/4fc527d6fda921c80e462d11a29deae2e4cf7514/satelliteLib-c91fdc6ac624c6cbcd50250f79786de339793801.js"></script>
    <link rel="stylesheet" href="//interactive.nydailynews.com/nydn/c/rh.css">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Open+Sans+Condensed:300,700|PT+Serif" rel="stylesheet">
	<link rel="stylesheet" href="//cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.0.1/css/responsive.dataTables.min.css">
    <script data-main="//interactive.nydailynews.com/nydn/js/rh.js?r=20170405001" src="//www.nydailynews.com/nydn/js/require.js?r=2016LIST" defer></script>
      
    <script>
        var nydn = nydn || {
            "section": "NYDailyNews",
            "subsection": "news",
            "template": "article",
            "revision": "201609014009",
            "bidder": { contains: function() {} },
            "targetPath": document.location.pathname
        };
        var nydnDO = [ { 
            'title':'xxxTITLExxx', 
            'link':'CANONICAL', 
            'p_type':'interactive', 
            'section':'interactive' 
        }];
    </script>
    
    <!-- ADS-START -->
    <script onload="nydn_ads('one');" src="/includes/template/template.js"></script>
    <!-- ADS-END -->

    <script src="/js/jquery.min.js"></script>

    <script>var nav_params = {section: 'projects', url: 'http://interactive.nydailynews.com/project/'};</script>
    <script src="/library/vendor-nav/vendor-include.js" defer></script>
</head>

<body id="nydailynews" data-section="nydailynews" data-subsection="NY Daily News">

<!-- SITEHEADER-START -->
<header id="templateheader"></header>
<!-- SITEHEADER-END -->

<!-- CONTENT-START -->
<main>
    <article>
        <div>
    
<!--
  <div class="ad center">
    <div id='div-gpt-ad-1423507761396-1'>
      <script>
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1423507761396-1'); });
      </script>
    </div>
  </div>
-->


<style>
body {
	font: 14px/18px "Open Sans", sans-serif;
}
input {
	border: 1px solid #999;
}
tr th {
    max-height: 25px;
}
#school-table_filter {
	float: left;
    margin: 15px 0;
}
        #school-table_filter > label { text-transform: uppercase; font-size: 30px; }
        #school-table_filter > label > input { height: 24px; width: 200px; }
        tr td {
            text-align: center;
        }
        tr > td:nth-child(2) {
            text-align: left;
            min-width:150px;
        }
</style>
<section>
		<h1 style="font-size:48px;">How will your middle school be affected by de Blasio’s SHSAT plan?</h1>

		<h2 style="font-size:36px;">NYC middle school SHSAT acceptance database, 2017-2018 school year</h2>
		<p>This is a database of SHSAT offers to NYC 8th graders for offers of admission for the Fall 2018 school year. You can sort the table by any of its fields.</p>
		<p>
			Of note: The 7% cap column shows how many students from that school would be admitted to specialized high schools under Mayor de Blasio’s plan.
			The column following the 7% cap, the Gain/Loss column, is a calculation that shows how many more or less students the school would send to specialized high school.
		</p>
        <table id="school-table" class="stripe table-bordered">
            <thead>
                <tr>
                    <th></th>
                    <th class="all">School</th>
                    <th class="all">Borough</th>
                    <th class="all">Tested</th>
                    <th class="all">Accepted</th>
                    <th class="all">8th graders</th>
					<th class="all">7% cap</th>
					<th class="all">Gain/Loss</th>
					<th class="all">%&nbsp;Tested</th>
					<th class="all">%&nbsp;Accepted</th>
					<th class="all">%&nbsp;Accepted&nbsp;Overall</th>
					<th class="none">%&nbsp;Asian</th>
					<th class="none">%&nbsp;Black</th>
					<th class="none">%&nbsp;Hispanic</th>
					<th class="none">%&nbsp;White</th>
					<th class="none">%&nbsp;With&nbsp;Disabilities</th>
                    <th class="none">%&nbsp;<abbr title="English Language Learner">ELL</abbr></th>
					<th class="all">%&nbsp;Poverty</th>
					<th class="none">Economic Need Index</th>
				</tr>
            </thead>
            <tfoot>
            </tfoot>
        </table>
<script>
// Adapted from https://stackoverflow.com/questions/25944854/sorting-alphabetical-order-to-ignore-empty-cells-datatables

$.getJSON('data/shsat.json', function(data) {
    jQuery.extend( jQuery.fn.dataTableExt.oSort, {
        "non-empty-string-asc": function (str1, str2) {
            if(str1 == "")
                return 1;
            if(str2 == "")
                return -1;
            return ((str1 < str2) ? -1 : ((str1 > str2) ? 1 : 0));
        },
     
        "non-empty-string-desc": function (str1, str2) {
            if(str1 == "")
                return 1;
            if(str2 == "")
                return -1;
            return ((str1 < str2) ? 1 : ((str1 > str2) ? -1 : 0));
        },
            
        "non-empty-int-asc": function (str1, str2) {
            if(str1 == "")
                return 9999;
            if(str2 == "")
                return -9999;
            return ((str1 < str2) ? -1 : ((str1 > str2) ? 1 : 0));
        },
     
        "non-empty-int-desc": function (str1, str2) {
            if(str1 == "")
                return 9999;
            if(str2 == "")
                return -9999;
            return ((str1 < str2) ? 1 : ((str1 > str2) ? -1 : 0));
        }
    } );

	$('#school-table').dataTable( { 
    data: data,
    order: [ 7, "asc" ],
    paging: true,
    pagingType: 'numbers',
    pageLength: 20,
    responsive: true,
    columns: [ 
        {
            className: 'details-control',
            orderable: false,
            data: null,
            defaultContent: ''
        },
        {   data: "school" },
        {   data: "borough" },
        {   data: "tested",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( data === 's' ) {
                    if ( type == 'display' || type == 'filter' ) return '< 5';
                    else return 4;
                }
                return data;
            }
        },
        {   data: "passed",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( data === 's' ) {
                    if ( type == 'display' || type == 'filter' ) return '< 5';
                    else return 4;
                }
                return data;
            }
        },
        {   data: "eighth-graders" },
        {   data: "seven-percent" },
        {   data: "gain-loss",
			type: 'non-empty-int',
        },
        {   data: "%-tested",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' && data !== 'n/a' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-passed",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-passed-overall",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-asian",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-black",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-hispanic",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-white",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-with-disabilities",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-ell",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "%-poverty",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
        {   data: "economic-need-index",
			type: 'non-empty-int',
            render: function ( data, type, row ) { 
                if ( type == 'display' || type == 'filter' ) {
                    if ( data !== '' ) return data + '%';
                }
                return data;
            }
        },
    ],
    autoWidth: false,
    //deferRender: true,
    dom: '<"top">Wf<"clear">tip',
    // https://github.com/cyberhobo/ColumnFilterWidgets
    oColumnFilterWidgets: {
        aiExclude: [ 0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 ],
        // sSeparator: ',  ',
        bGroupTerms: false,
    }
} );
}); // end getJSON
</script>
</section>


        </div>
    </article>
</main>

  <div class="ad center">
    <div id='div-gpt-ad-1423507761396-3'>
      <script>
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1423507761396-3'); });
      </script>
    </div>
  </div>
<script src="//cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/responsive/2.0.1/js/dataTables.responsive.js"></script>
<!--
<script src="js/ColumnFilterWidgets.js"></script>
-->

<!-- CONTENT-END -->

<!-- FOOTER-START -->
<footer id="templatefooter"></footer>
<!-- FOOTER-END -->
<div id="ra-bp">
      </div> <section id="rao">  <div id="rao-close"></div> <div id="rao-wrap"></div> </section>
</div>
<div id="r-scripts">
    <div id="parsely-root" style="display: none">
        <span id="parsely-cfg" data-parsely-site="nydailynews.com"></span>
    </div>
    <div class="r-ad">
        <div id="div-gpt-ad-x100">
        </div>
    </div>
</div>
</body>
</html>
